<app-header title="Chart" backButton="true"></app-header>

<ion-content>
  <ion-row *ngIf="isLoading; else realContent">
    <ion-spinner color="primary"></ion-spinner>
  </ion-row>

  <ng-template #realContent>
    <ion-grid class="ion-margin-top">
      <ion-row>
        <ion-col size="12">
          <ion-text color="medium">Ihre Stromverbrauch im Augenblick</ion-text>
          <ion-card class="ion-no-margin ion-margin-top">
            <ion-card-header>
              <ion-card-subtitle></ion-card-subtitle>
              <ion-card-title>Zählernummer: {{ data.counterNumber}}</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <canvas #barChart></canvas>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
    
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          
          <ion-list-header color="light">
            <p>Ihre Stromverbrach in dieser Zeitraum von <b style="color: rgb(38, 194, 129)">{{ getFirstDate() | date }}</b> bis <b style="color: rgb(38, 194, 129)">{{ getLastDate() | date }}</b> liegt bei: <b style="color: rgb(38, 194, 129)">{{ getAllTimeCost() }}€</b></p>
            
          </ion-list-header>
          <ion-list-header color="light">
            <ion-text color="danger">*Preis per KW: {{ data.ppkw }}€</ion-text>
          </ion-list-header>
          
        </ion-col>
      </ion-row>
    </ion-grid>
    
  </ng-template>
</ion-content>
